(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5206],{70902:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logIn",function(){return a(18239)}])},94363:function(e,r,a){"use strict";a.d(r,{Z:function(){return d}});var s=a(85893),t=a(67294),n=a(76720),l=a(35972),c=a(7122),i=a(93474),o=a.n(i);function d(e){let{onKeyChanged:r,recoveredKeyPassword:a,focus:i=!1}=e,d=(0,t.useRef)(null),[u,x]=(0,t.useState)(""),[f,h]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{a&&x(a)},[a]),(0,t.useEffect)(()=>{i&&d.current.focus()},[i]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(l.Z.Control,{ref:d,type:f?"password":"text",onChange:e=>{x(e.target.value),r(e.target.value)},value:u,className:o().inputBox}),(0,s.jsx)(n.Z,{className:o().inputButton,onClick:e=>{h(!f)},variant:"dark",children:f?(0,s.jsx)("i",{id:"1",className:"fa fa-eye-slash fa-lg","aria-hidden":"true"}):(0,s.jsx)("i",{id:"1",className:"fa fa-eye fa-lg","aria-hidden":"true"})})]})})}a(5960)},32121:function(e,r,a){"use strict";a.d(r,{Z:function(){return Z}});var s=a(93967),t=a.n(s),n=a(67294),l=a(97400),c=a(85893);let i=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...i}=e;return s=(0,l.vE)(s,"card-body"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});i.displayName="CardBody";let o=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...i}=e;return s=(0,l.vE)(s,"card-footer"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});o.displayName="CardFooter";var d=a(27762);let u=n.forwardRef((e,r)=>{let{bsPrefix:a,className:s,as:i="div",...o}=e,u=(0,l.vE)(a,"card-header"),x=(0,n.useMemo)(()=>({cardHeaderBsPrefix:u}),[u]);return(0,c.jsx)(d.Z.Provider,{value:x,children:(0,c.jsx)(i,{ref:r,...o,className:t()(s,u)})})});u.displayName="CardHeader";let x=n.forwardRef((e,r)=>{let{bsPrefix:a,className:s,variant:n,as:i="img",...o}=e,d=(0,l.vE)(a,"card-img");return(0,c.jsx)(i,{ref:r,className:t()(n?"".concat(d,"-").concat(n):d,s),...o})});x.displayName="CardImg";let f=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...i}=e;return s=(0,l.vE)(s,"card-img-overlay"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});f.displayName="CardImgOverlay";let h=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n="a",...i}=e;return s=(0,l.vE)(s,"card-link"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});h.displayName="CardLink";var j=a(99106);let m=(0,j.Z)("h6"),v=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n=m,...i}=e;return s=(0,l.vE)(s,"card-subtitle"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});v.displayName="CardSubtitle";let y=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n="p",...i}=e;return s=(0,l.vE)(s,"card-text"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});y.displayName="CardText";let p=(0,j.Z)("h5"),N=n.forwardRef((e,r)=>{let{className:a,bsPrefix:s,as:n=p,...i}=e;return s=(0,l.vE)(s,"card-title"),(0,c.jsx)(n,{ref:r,className:t()(a,s),...i})});N.displayName="CardTitle";let g=n.forwardRef((e,r)=>{let{bsPrefix:a,className:s,bg:n,text:o,border:d,body:u=!1,children:x,as:f="div",...h}=e,j=(0,l.vE)(a,"card");return(0,c.jsx)(f,{ref:r,...h,className:t()(s,j,n&&"bg-".concat(n),o&&"text-".concat(o),d&&"border-".concat(d)),children:u?(0,c.jsx)(i,{children:x}):x})});g.displayName="Card";var Z=Object.assign(g,{Img:x,Title:N,Subtitle:v,Body:i,Link:h,Text:y,Header:u,Footer:o,ImgOverlay:f})},18239:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return Z}});var s=a(85893),t=a(67294),n=a(9473),l=a(11163),c=a(97375),i=a(32121),o=a(19101),d=a(68070),u=a(35972),x=a(76720),f=a(93474),h=a.n(f),j=a(5960),m=a(34491),v=a(94363),y=a(81836);function p(e){let{callback:r}=e;(0,n.I0)();let a=(0,n.v9)(e=>e.account.newAccountCreated),[l,i]=(0,t.useState)(""),[f,h]=(0,t.useState)(null),m=(0,t.useRef)(null);return(0,t.useEffect)(()=>{if(a){let e=new File([a.accountRecoveryPhrase],"abc.txt",{type:"text/plain"});h(URL.createObjectURL(e))}},[a]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(y.Z,{show:!0,fullscreen:!0,onHide:()=>{r({recover:!1})},children:[(0,s.jsx)(y.Z.Header,{closeButton:!0,children:(0,s.jsxs)(y.Z.Title,{children:[(0,s.jsx)("i",{className:"fa fa-ambulance","aria-hidden":"true"})," Recover Your Account"]})}),(0,s.jsx)(y.Z.Body,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)("p",{children:"If you forget your Nickname and Key Password, using account recovery code is the only way to recover your account."}),(0,s.jsx)("p",{children:"You can either enter your account recovery code below"}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(u.Z.Control,{type:"text",placeholder:"Account Recovery Code",onChange:e=>{i(e.target.value)},value:l})})}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(d.Z,{className:"d-flex justify-content-center",children:(0,s.jsx)(x.Z,{className:"text-center",variant:"primary",onClick:()=>{r({recover:!0,recoveryCode:l})},children:"Recover"})})}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"or open your account recovery file."}),(0,s.jsxs)("div",{className:"recoveryFile",children:[(0,s.jsx)("input",{ref:m,onChange:e=>{e.preventDefault(),(0,j.qu)(!1,"handleRecoveryFile: ",e.target.id);let a=e.target.files[0],s=new FileReader;s.addEventListener("load",()=>{r({recover:!0,recoveryCode:s.result})},!1),a&&s.readAsText(a)},type:"file",id:"recoveryFile",className:"d-none editControl"}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(d.Z,{id:"recoveryFile",sm:{span:10,offset:1},md:{span:8,offset:2},className:"text-center",children:(0,s.jsx)(x.Z,{id:"recoveryFile",onClick:e=>{var r;(0,j.qu)(!1,"handleRecoveryFile"),e.preventDefault(),m.current.value=null,null===(r=m.current)||void 0===r||r.click()},variant:"link",className:"text-dark btn btn-labeled",children:(0,s.jsx)("h4",{children:(0,s.jsx)("i",{id:"recoveryFile",className:"fa fa-paperclip fa-lg","aria-hidden":"true"})})})})})]})]})})]})})}a(87845),a(4298);var N=a(72089),g=a(74794);function Z(){let e=(0,l.useRouter)(),r=(0,n.I0)(),[a,f]=(0,t.useState)(""),[y,Z]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1);(0,t.useRef)(null);let k=(0,n.v9)(e=>e.auth.clientEncryptionKey),C=(0,n.v9)(e=>e.auth.activity),R=(0,n.v9)(e=>e.auth.isLoggedIn),[E,F]=(0,t.useState)(null),S=async e=>{(0,j.qu)(!1,"handleSubmit"),r((0,N.hO)({nickname:a,keyPassword:y}))};return(0,t.useEffect)(()=>{let e=window.location.search;if(e){let r=new URLSearchParams(e).get("toPath");r&&F(r)}},[]),(0,t.useEffect)(()=>{R&&(E?e.push(E):e.push("/safe"))},[R]),(0,s.jsx)("div",{className:"".concat(h().minHeight100Percent),style:{backgroundColor:"#F8F9F9"},children:(0,s.jsx)(m.Z,{showNaveBar:!1,showNavbarMenu:!1,showPathRow:!1,children:(0,s.jsx)("div",{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(o.Z,{className:h().keyPanel,children:(0,s.jsxs)(d.Z,{sm:{span:10,offset:1},lg:{span:6,offset:3},children:[(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsxs)(i.Z,{className:"p-3",style:{maxWidth:"420px",margin:"auto"},children:[!1,(0,s.jsxs)("h1",{className:"text-center",children:["Open Your ",(0,s.jsx)("span",{style:{backgroundColor:"yellow",color:"black",fontWeight:"bold",padding:"7px"},children:"BSafes"})]}),(0,s.jsx)("hr",{}),(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)(u.Z.Group,{className:"mb-3",controlId:"Nickname",children:[(0,s.jsx)(u.Z.Label,{children:"Nickname"}),(0,s.jsx)(u.Z.Control,{type:"text",placeholder:"",autoComplete:"off",className:h().inputBox,value:a,onChange:e=>{f(e.target.value)}})]}),(0,s.jsxs)(u.Z.Group,{className:"mb-3",controlId:"keyPassword",children:[(0,s.jsx)(u.Z.Label,{children:"Key Password"}),(0,s.jsx)(v.Z,{onKeyChanged:e=>{(0,j.qu)(!1,"keyPassword: ",e),Z(e)},recoveredKeyPassword:y})]})]}),!1,(0,s.jsx)(o.Z,{className:"p-2",children:(0,s.jsx)(d.Z,{className:"text-center",children:(0,s.jsx)(x.Z,{variant:"dark",onClick:S,disabled:"LoggingIn"===C,children:"Unlock"})})}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(d.Z,{className:"text-center",children:(0,s.jsx)(x.Z,{variant:"link",onClick:()=>{w(!0)},disabled:"LoggingIn"===C,style:{color:"gray",textTransform:"none",textDecoration:"none"},children:"Recover"})})}),b&&(0,s.jsx)(p,{callback:e=>{if(e.recover){let r=(0,g.jc)(e.recoveryCode,k);f(r.nickname),Z(r.keyPassword)}w(!1)}}),(0,s.jsx)(o.Z,{children:(0,s.jsxs)(d.Z,{className:"text-center",children:[(0,s.jsx)("img",{className:"mx-auto d-block",src:"/images/mySafe_Small.png",style:{width:"52px"}}),(0,s.jsxs)(x.Z,{size:"lg",variant:"link",onClick:()=>{e.push("/keySetup")},disabled:"LoggingIn"===C,style:{textTransform:"none",textDecoration:"none"},children:["Create your lock ",(0,s.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),", own your ",(0,s.jsx)("span",{style:{fontWeight:"bold"},children:"BSafes"})]})]})}),(0,s.jsx)("p",{hidden:!0,className:"text-center",children:"30-Day Free"})]})]})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})})})})}}},function(e){e.O(0,[3424,8999,7753,4491,2888,9774,179],function(){return e(e.s=70902)}),_N_E=e.O()}]);