(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4271],{94044:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(67294),s=a(6454),r=a(76852);let i=2147483648-1;function o(){let e=(0,s.Z)(),t=(0,n.useRef)();return(0,r.Z)(()=>clearTimeout(t.current)),(0,n.useMemo)(()=>{let a=()=>clearTimeout(t.current);return{set:function(n,s=0){e()&&(a(),s<=i?t.current=setTimeout(n,s):function e(t,a,n){let s=n-Date.now();t.current=s<=i?setTimeout(a,s):setTimeout(()=>e(t,a,n),i)}(t,n,Date.now()+s))},clear:a}},[])}},51958:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diary/contents/[itemId]",function(){return a(10266)}])},27432:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(85893),s=a(67294),r=a(76529),i=a(82280),o=a(88748),l=a(82354),c=a.n(l);function d(e){let{onNextClicked:t,onPreviousClicked:a,cover:l=!1,showAlert:d=!1,alertClosed:u=null}=e,[f,m]=(0,s.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{className:"".concat(c().previousPageBtn," ").concat(l?c().coverBtnFixed:c().pageBtnFixed),onClick:()=>{m(!1),a()},children:(0,n.jsx)("i",{className:"fa fa-chevron-left fa-lg","aria-hidden":"true"})}),(0,n.jsx)(r.Z,{className:"".concat(c().nextPageBtn," ").concat(l?c().coverBtnFixed:c().pageBtnFixed," pull-right"),onClick:()=>{m(!1),t()},children:(0,n.jsx)("i",{className:"fa fa-chevron-right fa-lg","aria-hidden":"true"})}),(0,n.jsx)(o.Z,{className:"p-3",position:l?"top-center":"middle-center",style:{zIndex:1e4},children:(0,n.jsxs)(i.Z,{show:d&&!f,onClose:()=>{m(!0),u()},bg:"warning",children:[(0,n.jsxs)(i.Z.Header,{children:[(0,n.jsx)("strong",{className:"me-auto",children:"Alert"}),(0,n.jsx)("small",{})]}),(0,n.jsx)(i.Z.Body,{children:"Hello, your have reached the end."})]})})]})}},82280:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var n=a(67294),s=a(94184),r=a.n(s),i=a(94044),o=a(16592),l=a(36944),c=a(85893);let d={[o.d0]:"showing",[o.Ix]:"showing show"},u=n.forwardRef((e,t)=>(0,c.jsx)(l.Z,{...e,ref:t,transitionClasses:d}));u.displayName="ToastFade";var f=a(78146),m=a(54728),h=a(59680);let x=n.createContext({onClose(){}}),p=n.forwardRef((e,t)=>{let{bsPrefix:a,closeLabel:s="Close",closeVariant:i,closeButton:o=!0,className:l,children:d,...u}=e;a=(0,m.vE)(a,"toast-header");let p=(0,n.useContext)(x),g=(0,f.Z)(e=>{null==p||null==p.onClose||p.onClose(e)});return(0,c.jsxs)("div",{ref:t,...u,className:r()(a,l),children:[d,o&&(0,c.jsx)(h.Z,{"aria-label":s,variant:i,onClick:g,"data-dismiss":"toast"})]})});p.displayName="ToastHeader";let g=n.forwardRef((e,t)=>{let{className:a,bsPrefix:n,as:s="div",...i}=e;return n=(0,m.vE)(n,"toast-body"),(0,c.jsx)(s,{ref:t,className:r()(a,n),...i})});g.displayName="ToastBody";let j=n.forwardRef((e,t)=>{let{bsPrefix:a,className:s,transition:o=u,show:l=!0,animation:d=!0,delay:f=5e3,autohide:h=!1,onClose:p,onEntered:g,onExit:j,onExiting:y,onEnter:v,onEntering:N,onExited:Z,bg:b,...w}=e;a=(0,m.vE)(a,"toast");let C=(0,n.useRef)(f),E=(0,n.useRef)(p);(0,n.useEffect)(()=>{C.current=f,E.current=p},[f,p]);let P=(0,i.Z)(),k=!!(h&&l),D=(0,n.useCallback)(()=>{k&&(null==E.current||E.current())},[k]);(0,n.useEffect)(()=>{P.set(D,C.current)},[P,D]);let T=(0,n.useMemo)(()=>({onClose:p}),[p]),_=!!(o&&d),L=(0,c.jsx)("div",{...w,ref:t,className:r()(a,s,b&&"bg-".concat(b),!_&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,c.jsx)(x.Provider,{value:T,children:_&&o?(0,c.jsx)(o,{in:l,onEnter:v,onEntering:N,onEntered:g,onExit:j,onExiting:y,onExited:Z,unmountOnExit:!0,children:L}):L})});j.displayName="Toast";var y=Object.assign(j,{Body:g,Header:p})},88748:function(e,t,a){"use strict";var n=a(94184),s=a.n(n),r=a(67294),i=a(54728),o=a(85893);let l={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},c=r.forwardRef((e,t)=>{let{bsPrefix:a,position:n,containerPosition:r,className:c,as:d="div",...u}=e;return a=(0,i.vE)(a,"toast-container"),(0,o.jsx)(d,{ref:t,...u,className:s()(a,n&&l[n],r&&"position-".concat(r),c)})});c.displayName="ToastContainer",t.Z=c},10266:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var n=a(85893),s=a(67294),r=a(9473),i=a(11163),o=a(68888),l=a(88083),c=a(72565),d=a(82354),u=a.n(d),f=a(81011),m=a(36321),h=a(2772),x=a(19221),p=a(27432),g=a(42017),j=a(40699);a(84390);var y=a(28714);function v(){(0,y.qu)(!1,"Rendering Contents");let e=(0,r.I0)(),t=(0,i.useRouter)(),[a,d]=(0,s.useState)(null),v=(0,r.v9)(e=>e.page.space),N=(0,r.v9)(e=>e.container.mode),Z=(0,r.v9)(e=>e.container.container),b=(0,r.v9)(e=>e.container.startDateValue),[w,C]=(0,s.useState)(new Date(b)),E=(0,r.v9)(e=>e.container.diaryContentsPageFirstLoaded),P=(0,r.v9)(e=>e.container.items),k=(0,r.v9)(e=>e.container.pageNumber),D=(0,r.v9)(e=>e.container.itemsPerPage),T=(0,r.v9)(e=>e.container.total),_=(0,r.v9)(e=>e.container.workspaceKeyReady),L=(0,r.v9)(e=>e.page.id),[R,B]=(0,s.useState)([]),F=(0,c.default)(w,"MMM. yyyy"),I=R.map((e,t)=>(0,n.jsx)(x.Z,{itemIndex:t,item:e,mode:N},t)),M=t=>{let{pageNumber:n=1,searchMode:s}=t;"search"===(s||N)&&e((0,j.zs)({searchValue:a,pageNumber:n}))};return(0,s.useEffect)(()=>{!E&&((0,y.qu)(!1,"startDate changed:",(0,c.default)(w,"yyyyLL")),B([]),_&&Z&&((0,y.qu)(!1,"startDate changed -> list items"),e((0,j.bZ)({startDate:(0,c.default)(w,"yyyyLL")}))))},[w]),(0,s.useEffect)(()=>{if(!L||!v||!_)return;if((0,y.qu)(!1,"itemsState changed:"),"search"===N){B(P);return}let e=w.getFullYear(),t=w.getMonth(),a=new Date(e,t+1,0).getDate(),n=[],s=0;for(let r=0;r<a;r++){let a,i;for(a=parseInt((0,c.default)(new Date(e,t,r+1),"yyyyLLdd")),i=s;i<P.length;i++)if(P[i].itemPack.pageNumber===a){n.push(P[i]),s=i+1;break}if(i===P.length){let s={id:L.replace("d:","dp:")+":"+(0,c.default)(new Date(e,t,r+1),"yyyy-LL-dd"),title:"",itemPack:{pageNumber:a}};n.push(s)}}B(n)},[P]),(0,n.jsx)("div",{className:u().pageBackground,children:(0,n.jsx)(f.Z,{children:(0,n.jsxs)(m.Z,{itemId:t.query.itemId,children:[(0,n.jsx)("br",{}),(0,n.jsx)(h.Z,{startDate:w,setStartDate:C,onCoverClicked:()=>{t.push("/diary/".concat(L))},onSubmitSearch:t=>{d(t),e((0,j.zs)({searchValue:t,pageNumber:1}))},onCancelSearch:()=>{e((0,j.bZ)({startDate:(0,c.default)(w,"yyyyLL")}))},datePickerViewMode:"monthYear",showSearchIcon:!0}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.Z,{lg:{span:10,offset:1},children:(0,n.jsxs)("div",{className:"".concat(u().pagePanel," ").concat(u().diaryPanel),children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{className:"fs-1 text-center",children:F}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(l.Z,{xs:{span:2,offset:1},sm:{span:2,offset:1},xl:{span:1,offset:1},children:(0,n.jsx)("p",{className:"fs-5",children:"Day"})}),(0,n.jsx)(l.Z,{xs:8,sm:8,xl:9,children:(0,n.jsx)("p",{className:"fs-5",children:"Title"})})]}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.Z,{xs:{span:10,offset:1},children:(0,n.jsx)("hr",{className:"mt-1 mb-1"})})}),I,"search"===N&&P&&P.length>0&&T>D&&(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.Z,{sm:{span:10,offset:1},md:{span:8,offset:2},children:(0,n.jsx)("div",{className:"mt-4 d-flex justify-content-center",children:(0,n.jsx)(g.Z,{page:k,total:T,limit:D,changePage:e=>{M({pageNumber:e})},ellipsis:1})})})})]})})}),(0,n.jsx)(p.Z,{onNextClicked:()=>{(0,y.qu)(!1,"Next Page "),C(new Date(w.getFullYear(),w.getMonth()+1,1))},onPreviousClicked:()=>{(0,y.qu)(!1,"Previous Page "),C(new Date(w.getFullYear(),w.getMonth()-1,1))}})]})})})}}},function(e){e.O(0,[3937,5762,9198,1011,6252,3557,2888,9774,179],function(){return e(e.s=51958)}),_N_E=e.O()}]);