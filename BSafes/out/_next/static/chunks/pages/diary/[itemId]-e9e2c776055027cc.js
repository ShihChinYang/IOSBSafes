(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3241],{37635:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diary/[itemId]",function(){return t(34698)}])},51319:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(85893),c=t(9473),r=t(93474),a=t.n(r);function s(e){let{handleOpen:n}=e,t=(0,c.v9)(e=>e.container.workspace);return(0,i.jsxs)("div",{className:"".concat(a().containerOpenBtn," text-center"),onClick:n,style:{cursor:"pointer"},children:[(0,i.jsx)("h6",{children:"Open"}),t&&t.startsWith("d:")?(0,i.jsx)("h3",{children:(0,i.jsx)("i",{className:"fa fa-unlock-alt","aria-hidden":"true"})}):(0,i.jsx)("h3",{children:(0,i.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"})})]})}},34698:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var i=t(85893),c=t(67294),r=t(11163),a=t(9473),s=t(19101),l=t(68070),d=t(93474),o=t.n(d),u=t(70054),h=t(34491),x=t(13601),j=t(43445),f=t(39807),p=t(1132),v=t(51319),y=t(79016),k=t(28024),g=t(5960),Z=t(41119);function m(){(0,g.qu)(!1,"Rendering item");let e=(0,a.I0)(),n=(0,r.useRouter)(),t=(0,a.v9)(e=>e.page.id),d=(0,a.v9)(e=>e.page.container),m=(0,a.v9)(e=>e.container.workspaceKey),C=(0,a.v9)(e=>e.container.searchKey),N=(0,a.v9)(e=>e.container.searchIV),_=(0,a.v9)(e=>e.page.activity),w=(0,a.v9)(e=>e.page.activityErrors),[E,O]=(0,c.useState)(null),[b,q]=(0,c.useState)("ReadOnly"),W=(0,a.v9)(e=>e.page.title),I=e=>{"title"===E&&q(e)},R=async()=>{(0,g.qu)(!1,"handleOpen");try{let e,i;e=(0,Z.R$)(),i="/diary/p/"+t.replace("d:","dp:")+":"+e,n.push(i)}catch(e){(0,g.qu)(!1,e)}};return(0,c.useEffect)(()=>{0===_&&(0===w&&E?(I("ReadOnly"),O(null)):E&&I("Writing"))},[_]),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:o().pageBackground,children:[(0,i.jsx)(h.Z,{children:(0,i.jsxs)(x.Z,{itemId:n.query.itemId,children:[(0,i.jsx)("br",{}),(0,i.jsx)(j.Z,{onCoverClicked:()=>{if(!d)return;let e=(0,Z.Eo)(d).converLink;n.push(e)},onContentsClicked:()=>{if(!d)return;let e=(0,Z.Eo)(d).contentsLink;n.push(e)}}),(0,i.jsx)("br",{}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(l.Z,{lg:{span:10,offset:1},children:(0,i.jsxs)("div",{className:"".concat(o().diaryPanel," ").concat(o().diaryCoverPanel," ").concat(o().containerCoverPanel),children:[(0,i.jsx)(f.Z,{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(s.Z,{className:"justify-content-center",children:(0,i.jsx)(l.Z,{className:o().containerTitleLabel,xs:"10",sm:"10",md:"8",children:(0,i.jsx)(p.Z,{showWriteIcon:!0,editorId:"title",mode:b,content:W,onContentChanged:(n,t)=>{(0,g.qu)(!1,"editor-id: ".concat(n," content: ").concat(t)),"title"===E&&(t!==W?e((0,k.Vf)(t,m,C,N)):(I("ReadOnly"),O(null)))},onPenClicked:e=>{(0,g.qu)(!1,"pen ".concat(e," clicked")),"title"===e&&(q("Writing"),O("title"))},editable:!E&&0===_})})}),(0,i.jsx)("br",{}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(l.Z,{children:(0,i.jsx)(v.Z,{handleOpen:R})})}),(0,i.jsx)(y.Z,{showWriteBtn:!1,isEditing:E,onWrite:()=>{(0,g.qu)(!1,"handleWrite"),q("Writing"),O("title")},onSave:()=>{(0,g.qu)(!1,"handleSave"),I("Saving")},onCancel:()=>{(0,g.qu)(!1,"handleCancel"),I("ReadOnly"),O(null)}})]})})})]})}),(0,i.jsx)(u.Z,{})]})})}}},function(e){e.O(0,[571,3424,8999,7753,3040,4672,4491,1007,890,2888,9774,179],function(){return e(e.s=37635)}),_N_E=e.O()}]);