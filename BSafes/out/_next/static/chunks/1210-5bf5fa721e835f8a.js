"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1210],{32267:function(e,t,a){a.d(t,{Z:function(){return x}});var s=a(85893),n=a(67294),r=a(9473),i=a(11163),c=a(19101),l=a(68070),o=a(76720),u=a(32121),h=a(7122),f=a(35972),d=a(9198),p=a.n(d),g=a(69442),m=a(93474),v=a.n(m);function x(e){let{datePickerViewMode:t="dayMonth",startDate:a,setStartDate:d,showListIcon:m=!1,showSearchIcon:x=!1,handleSearch:k,onCoverClicked:j,onContentsClicked:w,onSubmitSearch:Z=null,onCancelSearch:C=null}=e,I=(0,i.useRouter)(),y=(0,n.useRef)(null),[P,N]=(0,n.useState)(!1),[q,E]=(0,n.useState)(""),[b,B]=(0,n.useState)(!1),S=(0,r.v9)(e=>e.container.workspace),D=(0,n.forwardRef)((e,t)=>{let{value:a,onClick:n}=e;return(0,s.jsx)(o.Z,{variant:"link",size:"sm",className:"text-white pull-right",onClick:n,ref:t,children:(0,s.jsx)("i",{className:"fa fa-calendar fa-lg","aria-hidden":"true"})})}),K=e=>{e.preventDefault(),Z(q)};return(0,n.useEffect)(()=>{P&&y.current.focus()},[P]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{show:b,message:"The Search feature is not available for demo!",handleClose:()=>{B(!1)}}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(l.Z,{xs:12,sm:{span:10,offset:1},lg:{span:8,offset:2},children:(0,s.jsx)(u.Z,{className:"".concat(v().containerControlPanel),children:(0,s.jsx)(u.Z.Body,{className:v().diaryControlPanelBody,children:(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(l.Z,{xs:4,children:[(0,s.jsx)(o.Z,{variant:"link",size:"sm",className:"text-white",onClick:j,children:(0,s.jsx)("i",{className:"fa fa-book fa-lg","aria-hidden":"true"})}),m&&(0,s.jsx)(o.Z,{variant:"link",size:"sm",className:"text-white",onClick:w,children:(0,s.jsx)("i",{className:"fa fa-list-ul fa-lg","aria-hidden":"true"})})]}),(0,s.jsx)(l.Z,{xs:4}),(0,s.jsxs)(l.Z,{xs:4,children:[I.asPath.includes("/contents/")&&!P&&(0,s.jsx)(o.Z,{variant:"link",size:"sm",className:"text-white pull-right",onClick:e=>{S&&S.startsWith("d:")?B(!0):N(!0)},children:(0,s.jsx)("i",{className:"fa fa-search fa-lg","aria-hidden":"true"})}),(0,s.jsx)("div",{className:"pull-right",children:(0,s.jsx)(p(),{selected:a,onChange:e=>d(e),customInput:(0,s.jsx)(D,{}),showPopperArrow:!1,..."monthYear"===t?{showMonthYearPicker:!0,showFullMonthYearPicker:!0}:{}})})]})]})})})})}),P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(c.Z,{children:(0,s.jsx)(l.Z,{xs:12,sm:{span:10,offset:1},lg:{span:8,offset:2},children:(0,s.jsx)(u.Z,{className:"".concat(v().containerControlPanel),children:(0,s.jsx)(f.Z,{onSubmit:K,className:v().searchBar,children:(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(f.Z.Control,{ref:y,type:"text",className:"".concat(v().searchBarInput," text-white display-1"),value:q,onChange:e=>{E(e.target.value)}}),(0,s.jsx)(o.Z,{variant:"link",children:(0,s.jsx)("i",{id:"1",className:"fa fa-search fa-lg text-white","aria-hidden":"true",onClick:K})}),(0,s.jsx)(o.Z,{variant:"link",children:(0,s.jsx)("i",{id:"1",className:"fa fa-times fa-lg text-white","aria-hidden":"true",onClick:e=>{e.preventDefault(),E(""),N(!1),C()}})})]})})})})})]})]})}},13601:function(e,t,a){var s=a(85893),n=a(67294),r=a(11163),i=a(9473),c=a(39332),l=a(97375),o=a(67204),u=a(93474),h=a.n(u),f=a(87894),d=a(28024),p=a(5960);t.Z=e=>{let{itemId:t,children:a}=e,u=(0,i.I0)(),g=(0,r.useRouter)(),m=(0,c.useSearchParams)(),[v,x]=(0,n.useState)(!1),k=(0,i.v9)(e=>e.auth.accountVersion),j=(0,i.v9)(e=>e.auth.demoMode),w=(0,i.v9)(e=>e.auth.serviceWorkerRegistered),Z=(0,i.v9)(e=>e.auth.isLoggedIn),C=(0,i.v9)(e=>e.auth.searchKey),I=(0,i.v9)(e=>e.auth.searchIV),y=(0,i.v9)(e=>e.auth.expandedKey),P=(0,i.v9)(e=>e.container.navigationInSameContainer),N=(0,i.v9)(e=>e.container.container),q=(0,i.v9)(e=>e.container.workspace),E=(0,i.v9)(e=>e.container.workspaceKey),b=(0,i.v9)(e=>e.container.workspaceKeyReady),B=(0,i.v9)(e=>e.container.startDateValue),[S,D]=(0,n.useState)(new Date(B)),K=(0,i.v9)(e=>e.page.aborted),M=(0,i.v9)(e=>e.page.id),R=(0,i.v9)(e=>e.page.pageNumber),T=(0,i.v9)(e=>e.page.navigationMode),V=(0,i.v9)(e=>e.page.space),_=(0,i.v9)(e=>e.page.container),W=(0,i.v9)(e=>e.page.itemCopy);(0,p.qu)(!1,"aborted: ",K),(0,p.qu)(!1,"itemId: ",t),(0,p.qu)(!1,"pageItemId: ",M);let z=()=>{(0,p.qu)(!1,"Reload a page: ",t),u((0,d.cD)(!1)),u((0,f.vB)(!1)),(0,p.qu)(!1,"set pageItemId: ",g.query.itemId),u((0,d.sF)(g.query.itemId));let e=g.asPath;"contents"===(e=e.split("/")[2])&&(u((0,f.H5)()),"d"===t.split(":")[0]&&(u((0,f.Pm)(new Date().getTime())),u((0,f.p8)(!1))))};return(0,n.useEffect)(()=>{(0,p.qu)(!1,"pageItemWrapper useEffect, []");let e=(e,t)=>{let{shallow:a}=t;console.log("App is changing to ".concat(e," ").concat(a?"with":"without"," shallow routing")),u((0,d.JG)()),u((0,d.rs)()),u((0,f.H5)())},t=()=>{(0,p.qu)(!1,"handleRouteChangeComplete - initPage"),u((0,d.df)())};return g.events.on("routeChangeStart",e),g.events.on("routeChangeComplete",t),()=>{(0,p.qu)(!1,"pageItemWrapper events.off"),g.events.off("routeChangeStart",e),g.events.off("routeChangeComplete",t)}},[]),(0,n.useEffect)(()=>{(0,p.qu)(!1,"initPage"),u((0,d.df)())},[t]),(0,n.useEffect)(()=>{(0,p.qu)(!1,"demoMode: ".concat(j,", ").concat(Z,", ").concat(t,", ").concat(M)),(Z||j&&w)&&t&&!M&&!K&&z()},[Z,t,M,K,j,w]),(0,n.useEffect)(()=>{if(M){u((0,f.$L)(!1));let e=m.get("version");(0,p.qu)(!1,"Dispatch getPageItemThunk ...");let t={itemId:M,navigationInSameContainer:P};e&&(t.version=parseInt(e)),u((0,d.Ed)(t));let a=document.getElementById("BSafesPage");a&&P&&a.scrollIntoView({behavior:"smooth"})}},[M]),(0,n.useEffect)(()=>{T&&((0,p.qu)(!1,"setContainerData ..."),u((0,d.BT)({itemId:M,container:{space:q,id:N}})))},[T]),(0,n.useEffect)(()=>{R&&((0,p.qu)(!1,"pageNumber: ",R),R%2?u((0,d.ml)(h().leftPagePanel)):u((0,d.ml)(h().rightPagePanel)))},[R]),(0,n.useEffect)(()=>{if(V){let e=g.asPath;if("contents"!==(e=e.split("/")[2])&&_===N){u((0,f.vB)(!0));return}if("contents"===e&&V===q){M!==N&&u((0,f.ef)({container:M})),u((0,f.vB)(!0));return}if(V===q){_!==N&&u((0,f.ef)({container:_})),u((0,f.vB)(!0));return}u((0,f.k_)()),x(!0)}},[V]),(0,n.useEffect)(()=>{if(v){let e=g.asPath;if(e=e.split("/")[2],"u"===V.substring(0,1))(0,p.qu)(!1,"Dispatch initWorkspace ..."),"contents"!==e?u((0,f.XZ)({container:_,workspaceId:V,workspaceKey:y,searchKey:C,searchIV:I})):u((0,f.XZ)({container:M,workspaceId:V,workspaceKey:y,searchKey:C,searchIV:I})),u((0,f.vB)(!0));else{let t;t="v1"===k?V.substring(0,V.length-4):V,"contents"!==e?u((0,f.VM)({teamId:t,container:_})):u((0,f.VM)({teamId:t,container:M}))}}},[v]),(0,n.useEffect)(()=>{if((0,p.qu)(!1,"useEffect [workspaceKey] ..."),!b||!W)return;let e=g.asPath;"contents"!==(e=e.split("/")[2])&&b&&E&&W&&(M.split(":")[0],(0,p.qu)(!1,"Dispatch decryptPageItemThunk ..."),u((0,d.t_)({itemId:M,workspaceKey:E})),x(!1))},[b]),(0,n.useEffect)(()=>{if((0,p.qu)(!1,"useEffect [workspaceKey] ..."),b&&M&&N&&b){let e=M.split(":")[0],t=g.asPath;"contents"===(t=t.split("/")[2])&&(x(!1),(0,p.qu)(!1,"listItemsThunk ..."),"d"!==e?u((0,f.bZ)({pageNumber:1})):(u((0,f.bZ)({startDate:(0,o.default)(S,"yyyyLL")})),u((0,f.p8)(!1))))}},[b,N]),(0,s.jsx)(l.Z,{fluid:!0,children:a})}}}]);